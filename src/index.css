@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================================
   GLOBAL MOBILE-FRIENDLY STYLES
   全局移动端友好样式
   ============================================================ */

/* Use dynamic viewport height for mobile browsers */
@supports (height: 100dvh) {
    .h-screen {
        height: 100dvh;
    }

    .min-h-screen {
        min-height: 100dvh;
    }
}

/* Prevent text size adjustment on iOS */
html {
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
}

/* Smooth scrolling */
html {
    scroll-behavior: smooth;
}

/* Better touch handling */
@layer base {
    button,
    [type="button"],
    [type="submit"],
    a,
    select {
        -webkit-tap-highlight-color: transparent;
    }

    /* Prevent zoom on input focus (iOS) */
    input[type="text"],
    input[type="password"],
    input[type="email"],
    input[type="number"],
    input[type="tel"],
    textarea,
    select {
        font-size: 16px;
    }

    @screen sm {
        input[type="text"],
        input[type="password"],
        input[type="email"],
        input[type="number"],
        input[type="tel"],
        textarea,
        select {
            font-size: 14px;
        }
    }
}

/* Safe area padding for notched devices */
.safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom, 0px);
}

.safe-area-top {
    padding-top: env(safe-area-inset-top, 0px);
}

.safe-area-left {
    padding-left: env(safe-area-inset-left, 0px);
}

.safe-area-right {
    padding-right: env(safe-area-inset-right, 0px);
}

/* ============================================================
   COMPONENT CLASSES
   组件样式类
   ============================================================ */

.card {
    @apply bg-white rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6;
}

.btn-primary {
    @apply bg-blue-600 text-white px-4 py-3 sm:py-2.5 rounded-lg hover:bg-blue-700 active:bg-blue-800 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed font-medium text-base sm:text-sm touch-manipulation;
}

.btn-secondary {
    @apply bg-gray-100 text-gray-700 px-4 py-3 sm:py-2.5 rounded-lg hover:bg-gray-200 active:bg-gray-300 transition-colors duration-200 font-medium text-base sm:text-sm touch-manipulation;
}

.btn-danger {
    @apply bg-red-600 text-white px-4 py-3 sm:py-2.5 rounded-lg hover:bg-red-700 active:bg-red-800 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed font-medium text-base sm:text-sm touch-manipulation;
}

.btn-success {
    @apply bg-green-600 text-white px-4 py-3 sm:py-2.5 rounded-lg hover:bg-green-700 active:bg-green-800 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed font-medium text-base sm:text-sm touch-manipulation;
}

.input-field {
    @apply w-full px-4 py-3 sm:py-2.5 text-base sm:text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 placeholder:text-gray-400;
}

.select-field {
    @apply w-full px-4 py-3 sm:py-2.5 text-base sm:text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white cursor-pointer transition-all duration-200;
}

/* ============================================================
   UTILITY CLASSES
   工具类
   ============================================================ */

/* Touch-friendly targets */
.touch-manipulation {
    touch-action: manipulation;
}

/* Scrollable container with smooth scroll */
.scrollable {
    -webkit-overflow-scrolling: touch;
    overflow-y: auto;
}

/* Custom scrollbar (desktop) */
.scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: #d1d5db transparent;
}

    .scrollbar-thin::-webkit-scrollbar {
        width: 6px;
    }

    .scrollbar-thin::-webkit-scrollbar-track {
        background: transparent;
    }

    .scrollbar-thin::-webkit-scrollbar-thumb {
        background-color: #d1d5db;
        border-radius: 3px;
    }

        .scrollbar-thin::-webkit-scrollbar-thumb:hover {
            background-color: #9ca3af;
        }

/* Hide scrollbar but keep functionality */
.scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
}

    .scrollbar-hide::-webkit-scrollbar {
        display: none;
    }

/* ============================================================
   ANIMATIONS
   动画效果
   ============================================================ */

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(8px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.animate-fadeIn {
    animation: fadeIn 0.2s ease-out;
}

@keyframes slideInLeft {
    from {
        transform: translateX(-100%);
    }

    to {
        transform: translateX(0);
    }
}

.animate-slideInLeft {
    animation: slideInLeft 0.3s ease-out;
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(100%);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.animate-slideUp {
    animation: slideUp 0.3s ease-out;
}

/* ============================================================
   MODAL & OVERLAY STYLES
   模态框和遮罩层样式
   ============================================================ */

.modal-overlay {
    @apply fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4;
}

.modal-content {
    @apply bg-white rounded-xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto animate-fadeIn;
}

/* Mobile bottom sheet style modal */
@media (max-width: 639px) {
    .modal-bottom-sheet {
        @apply fixed inset-x-0 bottom-0 top-auto rounded-t-2xl rounded-b-none max-h-[85vh] animate-slideUp;
    }
}

/* ============================================================
   TABLE RESPONSIVE STYLES
   表格响应式样式
   ============================================================ */

/* Make tables horizontally scrollable on mobile */
.table-responsive {
    @apply overflow-x-auto -mx-4 sm:mx-0;
}

    .table-responsive table {
        @apply min-w-full;
    }

/* ============================================================
   FORM STYLES
   表单样式
   ============================================================ */

/* Better form spacing on mobile */
.form-group {
    @apply space-y-1.5 sm:space-y-2;
}

.form-label {
    @apply block text-sm font-medium text-gray-700;
}

.form-error {
    @apply text-xs sm:text-sm text-red-600 mt-1;
}

/* ============================================================
   LOADING STATES
   加载状态
   ============================================================ */

.skeleton {
    @apply animate-pulse bg-gray-200 rounded;
}

.skeleton-text {
    @apply h-4 w-full skeleton;
}

.skeleton-title {
    @apply h-6 w-3/4 skeleton;
}

.skeleton-avatar {
    @apply h-10 w-10 rounded-full skeleton;
}
